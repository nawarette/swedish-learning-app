<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Svenska Ã–vning - Master Portal</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="stylesheet" href="global/style/style.css?v=1">
    <link rel="icon" type="image/x-icon" href="global/style/favicon/favicon.ico">
</head>

<body>

    <header class="main-header">
        <h1>
            <img src="global/style/images/NK_Avatar.png" alt="Nedinique" class="header-logo">
            Min Svenska TrÃ¤ning ðŸ‡¸ðŸ‡ª
        </h1>
    </header>

    <div class="layout">
        <nav class="sidebar">
            <ul id="shared-sidebar">
            </ul>
        </nav>

        <script>
            // The "DRY" Sidebar Trick - Fixed logic
            async function loadSidebar() {
                try {
                    const response = await fetch('global/sidebar.html');
                    const text = await response.text();
                    const sidebarUl = document.getElementById('shared-sidebar');
                    sidebarUl.innerHTML = text;

                    // NEW LOGIC: Look at the URL and highlight the matching link
                    const params = new URLSearchParams(window.location.search);
                    const currentCat = params.get('category'); // e.g., 'noun'
        
                    if (currentCat) {
                        const activeLink = sidebarUl.querySelector(`[data-nav="${currentCat}"]`);
                        if (activeLink) activeLink.classList.add('active');
                    }
                } catch (error) {
                  console.error("Sidebar Logic Failed:", error);
               }
            }
            loadSidebar();
        </script>




        <main class="content">
            <section class="welcome-card">
                <h2>VÃ¤lkommen!</h2>
                <p>ðŸ‘ˆ Select a category from the sidebar to start practicing your Swedish grammar.</p>
            </section>
        </main>
    </div>

</body>
</html>